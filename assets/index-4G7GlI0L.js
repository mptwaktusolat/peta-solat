(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();const u=document.querySelector("dialog"),g=document.getElementById("info-button");g.addEventListener("click",function(){u.showModal()});var p=L.latLng(-8.39979528699539,91.17968766368219),m=L.latLng(15.368147664459787,131.37879837658514),d=L.latLngBounds(p,m),i=L.map("map");i.setView([3.0701342867861086,102.62496634913956],7);L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,minZoom:6,bounds:d,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(i);i.setMaxBounds(d);function f(e){let o="blue";return o={SGR:"red",KDH:"green",PLS:"yellow",TRG:"purple",KTN:"orange",PHG:"brown",PRK:"#60E550",SBH:"#F67575",SWK:"#FFA34D",MLK:"#219C90",PNG:"#D3504A",JHR:"#22B2DA",NSN:"#6C4AB6"}[e.properties.state]||"blue",{fillColor:o,weight:2,opacity:1,color:"white",fillOpacity:.5}}const h=new L.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});let s={};function y(e){console.log(e.target.feature.properties),document.getElementById("card-state-area").innerText=e.target.feature.properties.name+", "+e.target.feature.properties.state,document.getElementById("card-zonecode").innerText=e.target.feature.properties.jakim_code,document.getElementById("card-latlanginfo").innerText=`${e.latlng.lat.toFixed(2)}, ${e.latlng.lng.toFixed(2)}`,s!=null&&i.removeLayer(s),s=L.marker([e.latlng.lat,e.latlng.lng],{icon:h}).addTo(i)}let l;fetch("https://raw.githubusercontent.com/mptwaktusolat/jakim.geojson/master/malaysia.district-jakim.geojson").then(e=>e.json()).then(e=>{const o=e.features;function n(a,t){t.on({click:y})}l=L.geoJSON(o,{style:f,onEachFeature:n}).addTo(i),navigator.geolocation.getCurrentPosition(w,b)}).catch(e=>{alert("Error loading GeoJSON data:",e)});const w=e=>{const o=e.coords.latitude,n=e.coords.longitude;i.setView([o,n],9),L.marker([o,n]).addTo(i),document.getElementById("card-latlanginfo").innerText=`${o.toFixed(3)}, ${n.toFixed(3)}`,l&&l.eachLayer(function(a){a.getBounds().contains([o,n])&&(document.getElementById("card-state-area").innerText=a.feature.properties.name+", "+a.feature.properties.state,document.getElementById("card-zonecode").innerText=a.feature.properties.jakim_code)})},b=e=>{console.log(e)};
