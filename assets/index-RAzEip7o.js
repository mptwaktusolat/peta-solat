(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const d=document.querySelector("dialog"),u=document.getElementById("info-button");u.addEventListener("click",function(){d.showModal()});var p=L.latLng(-8.39979528699539,91.17968766368219),f=L.latLng(15.368147664459787,131.37879837658514),l=L.latLngBounds(p,f),s=L.map("map");s.setView([3.0701342867861086,102.62496634913956],7);L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,minZoom:6,bounds:l,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(s);s.setMaxBounds(l);function g(t){let e="blue";switch(t.properties.state){case"SGR":e="red";break;case"KDH":e="green";break;case"PLS":e="yellow";break;case"TRG":e="purple";break;case"KTN":e="orange";break;case"PHG":e="brown";break;case"PRK":e="#60E550";break;case"SBH":e="#F67575";break;case"SWK":e="#FFA34D";break;case"MLK":e="#219C90";break;case"PNG":e="#D3504A";break;case"JHR":e="#22B2DA";break;case"NSN":e="#6C4AB6";break}return{fillColor:e,weight:2,opacity:1,color:"white",fillOpacity:.5}}function m(t){console.log(t.target.feature.properties),document.getElementById("card-state-area").innerText=t.target.feature.properties.name+", "+t.target.feature.properties.state,document.getElementById("card-zonecode").innerText=t.target.feature.properties.jakim_code,document.getElementById("card-latlanginfo").innerText=`${t.latlng.lat.toFixed(2)}, ${t.latlng.lng.toFixed(2)}`}let i;fetch("https://corsproxyuia.up.railway.app/https://github.com/mptwaktusolat/jakim.geojson/raw/master/malaysia.district-jakim.geojson").then(t=>t.json()).then(t=>{const e=t.features;function n(a,o){o.on({click:m})}i=L.geoJSON(e,{style:g,onEachFeature:n}).addTo(s),navigator.geolocation.getCurrentPosition(y,h)}).catch(t=>{alert("Error loading GeoJSON data:",t)});const y=t=>{const e=t.coords.latitude,n=t.coords.longitude;s.setView([e,n],9),L.marker([e,n]).addTo(s),document.getElementById("card-latlanginfo").innerText=`${e.toFixed(3)}, ${n.toFixed(3)}`,i&&i.eachLayer(function(a){a.getBounds().contains([e,n])&&(console.log(a.feature.properties),document.getElementById("card-state-area").innerText=a.feature.properties.name+", "+a.feature.properties.state,document.getElementById("card-zonecode").innerText=a.feature.properties.jakim_code)})},h=t=>{console.log(t)};
