(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const u=document.querySelector("dialog"),p=document.getElementById("info-button");p.addEventListener("click",function(){u.showModal()});var g=L.latLng(-8.39979528699539,91.17968766368219),f=L.latLng(15.368147664459787,131.37879837658514),d=L.latLngBounds(g,f),c=L.map("map");c.setView([3.0701342867861086,102.62496634913956],7);L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,minZoom:6,bounds:d,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(c);c.setMaxBounds(d);function m(t){let e="blue";switch(t.properties.state){case"SGR":e="red";break;case"KDH":e="green";break;case"PLS":e="yellow";break;case"TRG":e="purple";break;case"KTN":e="orange";break;case"PHG":e="brown";break;case"PRK":e="#60E550";break;case"SBH":e="#F67575";break;case"SWK":e="#FFA34D";break;case"MLK":e="#219C90";break;case"PNG":e="#D3504A";break;case"JHR":e="#22B2DA";break;case"NSN":e="#6C4AB6";break}return{fillColor:e,weight:2,opacity:1,color:"white",fillOpacity:.5}}const h=new L.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});let i={};function y(t){console.log(t.target.feature.properties),document.getElementById("card-state-area").innerText=t.target.feature.properties.name+", "+t.target.feature.properties.state,document.getElementById("card-zonecode").innerText=t.target.feature.properties.jakim_code,document.getElementById("card-latlanginfo").innerText=`${t.latlng.lat.toFixed(2)}, ${t.latlng.lng.toFixed(2)}`,i!=null&&c.removeLayer(i),i=L.marker([t.latlng.lat,t.latlng.lng],{icon:h}).addTo(c)}let l;fetch("https://corsproxyuia.up.railway.app/https://github.com/mptwaktusolat/jakim.geojson/raw/master/malaysia.district-jakim.geojson").then(t=>t.json()).then(t=>{const e=t.features;function n(a,o){o.on({click:y})}l=L.geoJSON(e,{style:m,onEachFeature:n}).addTo(c),navigator.geolocation.getCurrentPosition(b,k)}).catch(t=>{alert("Error loading GeoJSON data:",t)});const b=t=>{const e=t.coords.latitude,n=t.coords.longitude;c.setView([e,n],9),L.marker([e,n]).addTo(c),document.getElementById("card-latlanginfo").innerText=`${e.toFixed(3)}, ${n.toFixed(3)}`,l&&l.eachLayer(function(a){a.getBounds().contains([e,n])&&(console.log(a.feature.properties),document.getElementById("card-state-area").innerText=a.feature.properties.name+", "+a.feature.properties.state,document.getElementById("card-zonecode").innerText=a.feature.properties.jakim_code)})},k=t=>{console.log(t)};
